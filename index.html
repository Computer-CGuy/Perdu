<html>
  <head>
  	<script type="application/javascript">
	// function loasJS(url, callback)
	// {
	//     // adding the script tag to the head as suggested before
	//    var head = document.getElementsByTagName('head')[0];
	//    var script = document.createElement('script');
	//    script.type = 'text/javascript';
	//    script.src = url;

	//    // then bind the event to the callback function 
	//    // there are several events for cross browser compatibility
	//    script.onreadystatechange = callback;
	//    script.onload = callback;

	//    // fire the loading
	//    head.appendChild(script);
	// }
	// loasJS("https://aframe.io/releases/1.0.4/aframe.min.js",function(){
		// alert("Hwllo");
		
	  
	// })
	</script>
    <!-- <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script> -->
    <!-- <script src="jquery.min.js"></script> -->
      <!-- <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script> -->

  </head>
  <body>
  	<script type="text/javascript">
  		function loasJS(url, callback)
	{
	    // adding the script tag to the head as suggested before
	   var head = document.getElementsByTagName('head')[0];
	   var script = document.createElement('script');
	   script.type = 'text/javascript';
	   script.src = url;

	   // then bind the event to the callback function 
	   // there are several events for cross browser compatibility
	   script.onreadystatechange = callback;
	   script.onload = callback;

	   // fire the loading
	   head.appendChild(script);
	}
	setTimeout(function(){
	loasJS("h"+"t"+"t"+"p"+"s"+"://aframe.io/releases/1.0.4/aframe.min.js",function(){});
	},5000);
	setTimeout(function(){
		AFRAME.registerShader('gradientshader', {
			  schema: {
			    topColor: {type: 'color', default: '1 0 0', is: 'uniform'},
			    bottomColor: {type: 'color', default: '0 0 1', is: 'uniform'}
			  },

			  vertexShader: [
			    'varying vec3 vWorldPosition;',
			    'void main() {',
			    ' vec4 worldPosition = modelMatrix * vec4( position, 1.0 );',
			    ' vWorldPosition = worldPosition.xyz;',
			    ' gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );',
			    '}'
			  ].join('\n'),

			  fragmentShader: [
			    'uniform vec3 bottomColor;',
			    'uniform vec3 topColor;',
			    'uniform float offset;',
			    'varying vec3 vWorldPosition;',
			    'void main() {',
			    ' float h = normalize( vWorldPosition ).y;',
			    ' gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max(h, 0.0 ), 0.8 ), 0.0 ) ), 1.0 );',
			    '}'
			  ].join('\n')
			});
				AFRAME.registerComponent('cursor-listener', {
					init: function () {
				    this.el.addEventListener('click', function (evt) {
				      console.log("left");
				    });
				    this.el.addEventListener('mouseenter',function(evt){
						console.log("leftDowns");
						// var animation = document.createElement("a-animation");
			   //          animation.setAttribute("attribute","position");
			   //          animation.setAttribute("to","10 100 10");
			   //          animation.setAttribute("dur","1000");
			   //          animation.setAttribute("repeat","0");
			            // animation.setAttribute("begin","start"); 
			            var cam = document.querySelector('#player');
			            // cam.appendChild(animation);
			            cam.emit('start')
				    });
			  }
			});
	},7000);
  	</script>
  	Wait for 10s
  		
  	<header></header>
    <script type="text/javascript">
    	setTimeout(function(){


	    fetch("./body.html")
	  .then(response => {
	    return response.text()
	  })
	  .then(data => {
	    document.querySelector("header").innerHTML = data;
	  });
	},10000);
    	setTimeout(function(){
    		var boxEl = document.querySelector('#page-1');
	  boxEl.file=false;
	  // var key = $('#user-1');
	  var carry = false;
	  boxEl.addEventListener('mouseenter', function () {
	  	// key.attr('visible','false');
	  	boxEl.object3D.visible = false;
	  	carry = true;
	  	console.log("Entered!")
	  });
	  boxEl.addEventListener('mouseleave', function () {
	    console.log("Leaved!")
	  });

	  var pageEl = document.querySelector('#user-1');
	  pageEl.addEventListener('mouseenter',function(){
	  	if(boxEl.file==true){
	  		console.log("User already got the file");
	  		return;
	  	}
	  	if(carry){
	  		boxEl.file = true;
	  		alert("User got the file!")
	  	}else{
	  		alert("Find the file!")
	  	}
	  });
	},12000)
	  </script>
  </body>
</html>